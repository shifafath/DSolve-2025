<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TravelHub</title>
  <style>
    :root {
      --navy-blue: #415a77;
      --light-gray: #e0e1dd;
      --blue-gray: #778da9;
      --dark-blue: #1b263b;
      --darkest-blue: #0d1b2a;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }

    body {
      background-color: var(--light-gray);
      color: var(--darkest-blue);
    }

    .container {
      min-height: 100vh;
      padding: 20px;
    }

    /* Navbar Styles */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background-color: var(--darkest-blue);
      color: white;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 24px;
    }

    .nav-buttons button {
      padding: 10px 20px;
      margin-left: 10px;
      border: none;
      border-radius: 5px;
      background-color: var(--navy-blue);
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .nav-buttons button:hover {
      background-color: var(--blue-gray);
    }

    /* Auth Form Styles */
    .auth-form {
      display: none;
      max-width: 400px;
      margin: 50px auto;
      padding: 30px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }

    .auth-form h2 {
      color: var(--dark-blue);
      margin-bottom: 20px;
      text-align: center;
    }

    .auth-form input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid var(--blue-gray);
      border-radius: 5px;
    }

    .auth-form button {
      width: 100%;
      padding: 12px;
      background-color: var(--navy-blue);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }

    /* Dashboard Styles */
    .dashboard {
      display: none;
      min-height: 100vh;
    }

    .dashboard-nav {
      background-color: var(--darkest-blue);
      padding: 20px;
      display: flex;
      justify-content: center;
      gap: 30px;
    }

    .dashboard-nav a {
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .dashboard-nav a:hover,
    .dashboard-nav a.active {
      background-color: var(--navy-blue);
    }

    .logout-btn {
      position: absolute;
      right: 20px;
      padding: 10px 20px;
      background-color: var(--dark-blue);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .dashboard-content {
      padding: 40px;
      max-width: 800px;
      margin: 0 auto;
    }

    .about-section {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    /* Updated description style */
    .about-section p {
      font-weight: bold;
      font-size: 1.2rem;
      color: var(--dark-blue);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      margin-top: 10px;
    }

    .travel-planner {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .location-inputs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: var(--dark-blue);
    }

    .form-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--blue-gray);
      border-radius: 5px;
    }

    .travel-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 25px;
      padding-top: 25px;
      border-top: 1px solid var(--light-gray);
    }

    .info-card {
      background-color: var(--light-gray);
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }

    .info-card h3 {
      margin-bottom: 5px;
      color: var(--dark-blue);
    }

    .transport-options {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-top: 25px;
    }

    .transport-option {
      background-color: var(--light-gray);
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s, background-color 0.3s;
    }

    .transport-option:hover {
      background-color: var(--blue-gray);
      transform: translateY(-5px);
    }

    .transport-option.active {
      background-color: var(--navy-blue);
      color: white;
    }

    .transport-option i {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .calculate-btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background-color: var(--navy-blue);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    .calculate-btn:hover {
      background-color: var(--dark-blue);
    }

    @media (max-width: 768px) {
      .location-inputs,
      .travel-info,
      .transport-options {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Landing Page -->
  <div class="container" id="landingPage">
    <nav class="navbar">
      <div class="logo">
        <i class="fas fa-bus"></i>
        <span>TravelHub</span>
      </div>
      <div class="nav-buttons">
        <button onclick="showLogin()">Login</button>
        <button onclick="showSignup()">Sign Up</button>
      </div>
    </nav>

<!-- Login Form -->
<div class="auth-form" id="loginForm">
    <h2>Login</h2>
    <input type="text" name="name" placeholder="Name" required />
    <input type="email" name="email" placeholder="Email" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="button" onclick="login()">Login</button>
</div>


    <!-- Signup Form -->
    <div class="auth-form" id="signupForm">
      <h2>Sign Up</h2>
      <input type="text" placeholder="Name" required />
      <input type="email" placeholder="Email" required />
      <input type="password" placeholder="Password" required />
      <input type="password" placeholder="Confirm Password" required />
      <button onclick="signup()">Sign Up</button>
    </div>
  </div>

  <!-- Dashboard -->
  <div class="dashboard" id="dashboardPage">
    <nav class="dashboard-nav">
      <a href="#home" class="active">Home</a>
      <a href="#dashboard">Dashboard</a>
      <a href="#rewards">Rewards</a>
      <a href="#partners">Partners</a>
      <button onclick="logout()" class="logout-btn">Logout</button>
    </nav>

    <div class="dashboard-content">
      <div class="about-section">
        <h2>Your Ultimate Commuting Companion</h2>
        <p>
          Plan your journey, save time, and travel smarter with TravelHub's comprehensive commuting solutions.
        </p>
      </div>

      <div class="travel-planner">
        <h2>Plan Your Journey</h2>

        <div class="location-inputs">
          <div class="form-group">
            <label for="from">From:</label>
            <input type="text" id="from" placeholder="Enter starting location" />
          </div>

          <div class="form-group">
            <label for="to">To:</label>
            <input type="text" id="to" placeholder="Enter destination" />
          </div>
        </div>

        <button class="calculate-btn" onclick="calculateRoute()">Calculate Route</button>

        <div class="travel-info">
          <div class="info-card">
            <h3>Distance</h3>
            <p id="distance">-- km</p>
          </div>

          <div class="info-card">
            <h3>Time</h3>
            <p id="time">-- min</p>
          </div>
        </div>

        <h3 style="margin-top: 25px;">Transport Options</h3>
        <div class="transport-options">
          <div class="transport-option" onclick="selectTransport(this, 'bus')">
            <i class="fas fa-bus"></i>
            <p><a  href="/bus.html">Bus</a></p>
          </div>

          <div class="transport-option" onclick="selectTransport(this, 'walking')">
            <i class="fas fa-walking"></i>

            <p><a    href="/walking.html">walking</a></p>
          </div>

          <div class="transport-option" onclick="selectTransport(this, 'bicycle')">
            <i class="fas fa-bicycle"></i>
            <p><a  href="/cycling.html">cycling</a></p>
          </div>

          <div class="transport-option" onclick="selectTransport(this, 'train')">
            <i class="fas fa-train"></i>
            <p><a  href="/train.html">train</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Show/Hide Forms
    function showLogin() {
      document.getElementById('loginForm').style.display = 'block';
      document.getElementById('signupForm').style.display = 'none';
    }

    function showSignup() {
      document.getElementById('loginForm').style.display = 'none';
      document.getElementById('signupForm').style.display = 'block';
    }

    // Authentication Functions
    async function login() {
    const loginForm = document.getElementById('loginForm');
    const inputs = loginForm.getElementsByTagName('input');

    // Extract email and password values
    const email = inputs['email'].value.trim();
    const password = inputs['password'].value.trim();

    // Basic validation
    if (!email || !password) {
        alert('Please enter both email and password.');
        return;
    }

    // Prepare the login data
    const loginData = {
        email: email,
        password: password
    };

    try {
        // Send a POST request to the login API
        const response = await fetch('http://192.168.143.23:5000/api/auth/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(loginData)
        });

        const data = await response.json();

        if (response.ok) {
            // Store token in local storage (if needed)
            localStorage.setItem('authToken', data.token);

            // Redirect to dashboard
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('dashboardPage').style.display = 'block';
        } else {
            alert(data.message || 'Login failed. Please check your credentials.');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while logging in. Please try again later.');
    }
}


    function signup() {
      const signupForm = document.getElementById('signupForm');
      const inputs = signupForm.getElementsByTagName('input');

      // Basic validation
      if (validateForm(inputs)) {
        // Check if passwords match
        if (inputs[2].value !== inputs[3].value) {
          alert('Passwords do not match');
          return;
        }

        alert('Account created successfully! Please login.');
        showLogin();
      }
    }

    function logout() {
      document.getElementById('landingPage').style.display = 'block';
      document.getElementById('dashboardPage').style.display = 'none';
      clearForms();
    }

    // Travel Planning Functions
    function calculateRoute() {
      const from = document.getElementById('from').value;
      const to = document.getElementById('to').value;

      if (!from || !to) {
        alert('Please enter both starting location and destination');
        return;
      }

      // In a real app, this would call a maps API
      // For demo, we'll use random values
      const distance = Math.floor(Math.random() * 20) + 5; // 5-25 km
      let time;

      // Get selected transport (default to bus if none selected)
      const selectedTransport = document.querySelector('.transport-option.active');
      const transportType = selectedTransport ? selectedTransport.getAttribute('data-type') : 'bus';

      // Calculate time based on transport type
      switch (transportType) {
        case 'walking':
          time = distance * 12; // ~5 km/h
          break;
        case 'bicycle':
          time = distance * 4; // ~15 km/h
          break;
        case 'train':
          time = distance * 1.5; // ~40 km/h
          break;
        case 'bus':
        default:
          time = distance * 3; // ~20 km/h
          break;
      }

      // Update UI
      document.getElementById('distance').textContent = distance + ' km';
      document.getElementById('time').textContent = Math.round(time) + ' min';
    }

    function selectTransport(element, type) {
      // Remove active class from all options
      const options = document.querySelectorAll('.transport-option');
      options.forEach((option) => option.classList.remove('active'));

      // Add active class to selected option
      element.classList.add('active');
      element.setAttribute('data-type', type);

      // If locations are already entered, recalculate
      const from = document.getElementById('from').value;
      const to = document.getElementById('to').value;
      if (from && to) {
        calculateRoute();
      }
    }

    // Utility Functions
    function validateForm(inputs) {
      for (let input of inputs) {
        if (!input.value) {
          alert('Please fill in all fields');
          return false;
        }
        if (input.type === 'email' && !validateEmail(input.value)) {
          alert('Please enter a valid email');
          return false;
        }
      }
      return true;
    }

    function validateEmail(email) {
      return email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);
    }

    function clearForms() {
      const forms = document.getElementsByClassName('auth-form');
      for (let form of forms) {
        const inputs = form.getElementsByTagName('input');
        for (let input of inputs) {
          input.value = '';
        }
        form.style.display = 'none';
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function () {
      // Add FontAwesome for icons
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css';
      document.head.appendChild(link);
    });
  </script>
</body>
</html>
